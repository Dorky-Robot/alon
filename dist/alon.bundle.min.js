!function(n){"function"==typeof define&&define.amd?define(n):n()}((function(){"use strict";!function(n){const e="__AlonEvent__";function t(n,t){n.dispatchEvent(new CustomEvent(e,{detail:{...t,__alonSignalDown__:!0},bubbles:!1,cancelable:!0}))}function o(n,t){n.dispatchEvent(new CustomEvent(e,{detail:{...t,__alonSignalUp__:!0},bubbles:!0,cancelable:!0}))}function a(n,e){n.stopPropagation();for(const[t,o]of e.entries()){const e=t(n.detail);void 0!==e&&o.forEach((t=>t(e,n)))}}function i(n,t,o){n.alonCaptureHandlers||(n.alonCaptureHandlers=new Map,n.addEventListener(e,(n=>{n.detail.__alonSignalDown__||a(n,i)}),!0));const i=n.alonCaptureHandlers,l=i.get(t)||[];l.push(o),i.set(t,l)}function l(n,t,o){n.alonAbsorbHandlers||(n.alonAbsorbHandlers=new Map,n.addEventListener(e,(n=>{n.detail.__alonSignalUp__||a(n,i)}),!0));const i=n.alonAbsorbHandlers,l=i.get(t)||[];l.push(o),i.set(t,l)}n.Alon={signalDown:t,signalUp:o,capture:i,gapDown:function(n,e,t){l(n,e,(function(e){o(n,t?t(e):e)}))},absorb:l,gapUp:function(n,e,t){i(n,e,(function(e,a){o(n,t?t(e):e)}))},intercept:function(n,e,a){const i=n.shadowRoot.host;n.addEventListener(e,(n=>{n.defaultPrevented&&n.preventDefault();a(n,{signalUp:n=>o(i,n),signalDown:n=>t(i,n)})}))}}}(window)}));
